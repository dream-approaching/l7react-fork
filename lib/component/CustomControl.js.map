{"version":3,"sources":["../../src/component/CustomControl.tsx"],"names":["useEffect","React","useState","CustoonConrol","props","className","style","children","position","mapScene","el","document","createElement","custom","Control","onAdd","cssText","Object","keys","map","key","join","addControl","removeControl"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;IACQA,S,GAAwBC,K,CAAxBD,S;IAAWE,Q,GAAaD,K,CAAbC,Q;;AASJ,SAASC,aAAT,CAAuBC,KAAvB,EAAiD;AAAA,MACtDC,SADsD,GACbD,KADa,CACtDC,SADsD;AAAA,MAC3CC,KAD2C,GACbF,KADa,CAC3CE,KAD2C;AAAA,MACpCC,QADoC,GACbH,KADa,CACpCG,QADoC;AAAA,MAC1BC,QAD0B,GACbJ,KADa,CAC1BI,QAD0B;AAE9D,MAAMC,QAAQ,GAAI,kCAAlB;AACA,MAAMC,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAX;AACAZ,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMa,MAAM,GAAG,IAAIC,UAAJ,CAAY;AACzBN,MAAAA,QAAQ,EAARA;AADyB,KAAZ,CAAf;;AAGAK,IAAAA,MAAM,CAACE,KAAP,GAAe,YAAM;AACnB,UAAIV,SAAJ,EAAe;AACbK,QAAAA,EAAE,CAACL,SAAH,GAAeA,SAAf;AACD;;AACD,UAAIC,KAAJ,EAAW;AACT,YAAMU,OAAO,GAAGC,MAAM,CAACC,IAAP,CAAYZ,KAAZ,EACba,GADa,CACT,UAACC,GAAD,EAAiB;AAEpB,2BAAUA,GAAV,cAAiBd,KAAK,CAACc,GAAD,CAAtB;AACD,SAJa,EAKbC,IALa,CAKR,GALQ,CAAhB;AAMAX,QAAAA,EAAE,CAACJ,KAAH,CAASU,OAAT,GAAmBA,OAAnB;AACD;;AAED,aAAON,EAAP;AACD,KAfD;;AAgBAD,IAAAA,QAAQ,CAACa,UAAT,CAAoBT,MAApB;AACA,WAAO,YAAM;AACXJ,MAAAA,QAAQ,CAACc,aAAT,CAAuBV,MAAvB;AACD,KAFD;AAGD,GAxBQ,EAwBN,EAxBM,CAAT;AAyBA,SAAO,4BAAaN,QAAb,EAAuBG,EAAvB,CAAP;AACD","sourcesContent":["import { Control, PositionName, Scene } from '@antv/l7';\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport { useSceneValue } from './SceneContext';\nconst { useEffect, useState } = React;\n\ninterface IColorLegendProps {\n  position: PositionName;\n  className?: string;\n  style?: React.CSSProperties;\n  children?: JSX.Element | JSX.Element[] | Array<JSX.Element | undefined>;\n}\n\nexport default function CustoonConrol(props: IColorLegendProps) {\n  const { className, style, children, position } = props;\n  const mapScene = (useSceneValue() as unknown) as Scene;\n  const el = document.createElement('div');\n  useEffect(() => {\n    const custom = new Control({\n      position,\n    });\n    custom.onAdd = () => {\n      if (className) {\n        el.className = className;\n      }\n      if (style) {\n        const cssText = Object.keys(style)\n          .map((key: string) => {\n            // @ts-ignore\n            return `${key}:${style[key]}`;\n          })\n          .join(';');\n        el.style.cssText = cssText;\n      }\n\n      return el;\n    };\n    mapScene.addControl(custom);\n    return () => {\n      mapScene.removeControl(custom);\n    };\n  }, []);\n  return createPortal(children, el);\n}\n"],"file":"CustomControl.js"}