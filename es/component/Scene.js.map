{"version":3,"sources":["../../src/component/Scene.tsx"],"names":["Scene","React","createElement","createRef","useEffect","useState","SceneContext","memo","props","style","className","map","container","scene","setScene","sceneInstance","id","current","on","destroy","ref","children"],"mappings":";AAAA,SAAsBA,KAAtB,QAAmC,UAAnC;AACA,OAAOC,KAAP,IAAgBC,aAAhB,EAA+BC,SAA/B,EAA0CC,SAA1C,EAAqDC,QAArD,QAAqE,OAArE;AACA,SAASC,YAAT,QAA6B,gBAA7B;AAOA,eAAeL,KAAK,CAACM,IAAN,CAAW,UAACC,KAAD,EAA2B;AAAA,MAC3CC,KAD2C,GACjBD,KADiB,CAC3CC,KAD2C;AAAA,MACpCC,SADoC,GACjBF,KADiB,CACpCE,SADoC;AAAA,MACzBC,GADyB,GACjBH,KADiB,CACzBG,GADyB;AAEnD,MAAMC,SAAS,GAAGT,SAAS,EAA3B;;AAFmD,kBAGzBE,QAAQ,EAHiB;AAAA;AAAA,MAG5CQ,KAH4C;AAAA,MAGrCC,QAHqC;;AAInDV,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMW,aAAa,GAAG,IAAIf,KAAJ,CAAU;AAC9BgB,MAAAA,EAAE,EAAEJ,SAAS,CAACK,OADgB;AAE9BN,MAAAA,GAAG,EAAHA;AAF8B,KAAV,CAAtB;AAIAI,IAAAA,aAAa,CAACG,EAAd,CAAiB,QAAjB,EAA2B,YAAM;AAC/BJ,MAAAA,QAAQ,CAACC,aAAD,CAAR;AACD,KAFD;AAGA,WAAO,YAAM;AACXA,MAAAA,aAAa,CAACI,OAAd;AACD,KAFD;AAGD,GAXQ,EAWN,EAXM,CAAT;AAaA,SACE,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAEN;AAA9B,KACGX,aAAa,CACZ,KADY,EAEZ;AACEkB,IAAAA,GAAG,EAAER,SADP;AAEEH,IAAAA,KAAK,EAALA,KAFF;AAGEC,IAAAA,SAAS,EAATA;AAHF,GAFY,EAOZG,KAAK,IAAIL,KAAK,CAACa,QAPH,CADhB,CADF;AAaD,CA9Bc,CAAf","sourcesContent":["import { IMapWrapper, Scene } from '@antv/l7';\nimport React, { createElement, createRef, useEffect, useState } from 'react';\nimport { SceneContext } from './SceneContext';\ninterface IMapSceneConig {\n  style?: Partial<React.CSSProperties>;\n  className?: string;\n  map: IMapWrapper;\n  children?: React.ReactNode;\n}\nexport default React.memo((props: IMapSceneConig) => {\n  const { style, className, map } = props;\n  const container = createRef();\n  const [scene, setScene] = useState<Scene>();\n  useEffect(() => {\n    const sceneInstance = new Scene({\n      id: container.current as HTMLDivElement,\n      map,\n    });\n    sceneInstance.on('loaded', () => {\n      setScene(sceneInstance);\n    });\n    return () => {\n      sceneInstance.destroy();\n    };\n  }, []);\n\n  return (\n    <SceneContext.Provider value={scene}>\n      {createElement(\n        'div',\n        {\n          ref: container,\n          style,\n          className,\n        },\n        scene && props.children,\n      )}\n    </SceneContext.Provider>\n  );\n});\n"],"file":"Scene.js"}