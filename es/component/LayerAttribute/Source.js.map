{"version":3,"sources":["../../../src/component/LayerAttribute/Source.tsx"],"names":["React","useEffect","memo","Chart","props","layer","source","data","sourceOption","inited","setData","autoFit","fitBounds","fitBoundsOptions","JSON","stringify"],"mappings":";AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;IAGQC,S,GAAcD,K,CAAdC,S;AAKR,eAAeD,KAAK,CAACE,IAAN,CAAW,SAASC,KAAT,CAAeC,KAAf,EAAoC;AAAA,MACpDC,KADoD,GAClCD,KADkC,CACpDC,KADoD;AAAA,MAC7CC,MAD6C,GAClCF,KADkC,CAC7CE,MAD6C;;AAAA,MAEpDC,IAFoD,GAE1BD,MAF0B,CAEpDC,IAFoD;AAAA,MAE3CC,YAF2C,4BAE1BF,MAF0B;;AAI5DL,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACI,KAAK,CAACI,MAAX,EAAmB;AACjBJ,MAAAA,KAAK,CAACC,MAAN,CAAaC,IAAb,EAAmBC,YAAnB;AACD,KAFD,MAEO;AACLH,MAAAA,KAAK,CAACK,OAAN,CAAcH,IAAd,EAAoBC,YAApB;AACD;;AACD,QAAIA,YAAY,CAACG,OAAjB,EAA0B;AACxBN,MAAAA,KAAK,CAACO,SAAN,CAAgBJ,YAAY,IAAIA,YAAY,CAACK,gBAA7C;AACD;AACF,GATQ,EASN,CAACN,IAAD,EAAOO,IAAI,CAACC,SAAL,CAAeP,YAAf,CAAP,CATM,CAAT;AAUA,SAAO,IAAP;AACD,CAfc,CAAf","sourcesContent":["import { ILayer } from '@antv/l7';\nimport * as React from 'react';\nimport { ISourceOptions } from './';\n\nconst { useEffect } = React;\ninterface ISourceProps {\n  layer: ILayer;\n  source: Partial<ISourceOptions>;\n}\nexport default React.memo(function Chart(props: ISourceProps) {\n  const { layer, source } = props;\n  const { data, ...sourceOption } = source;\n\n  useEffect(() => {\n    if (!layer.inited) {\n      layer.source(data, sourceOption);\n    } else {\n      layer.setData(data, sourceOption);\n    }\n    if (sourceOption.autoFit) {\n      layer.fitBounds(sourceOption && sourceOption.fitBoundsOptions);\n    }\n  }, [data, JSON.stringify(sourceOption)]);\n  return null;\n});\n"],"file":"Source.js"}